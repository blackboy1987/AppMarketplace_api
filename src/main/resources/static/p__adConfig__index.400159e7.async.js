"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[182],{88847:function(k,R,n){n.r(R),n.d(R,{default:function(){return Y}});var z=n(48305),j=n.n(z),$=n(90228),c=n.n($),b=n(26068),o=n.n(b),U=n(87999),F=n.n(U),Z=n(36982),C=n(47892);function G(d,a){return g.apply(this,arguments)}function g(){return g=F()(c()().mark(function d(a,s){return c()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Z.request)(C.g.apiUrl+"adConfig/list",o()({method:"POST",data:o()(o()({},a),{},{pageNumber:a.current||1})},s||{})).then(function(f){return{success:!0,data:f.data.content,total:f.data.total}}));case 1:case"end":return t.stop()}},d)})),g.apply(this,arguments)}function M(d,a){return D.apply(this,arguments)}function D(){return D=F()(c()().mark(function d(a,s){return c()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Z.request)(C.g.apiUrl+(a.id?"adConfig/update":"adConfig/save"),o()({method:"POST",data:a},s||{})));case 1:case"end":return t.stop()}},d)})),D.apply(this,arguments)}function K(d,a){return y.apply(this,arguments)}function y(){return y=F()(c()().mark(function d(a,s){return c()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Z.request)(C.g.apiUrl+"adConfig/delete",o()({method:"POST",data:a},s||{})));case 1:case"end":return t.stop()}},d)})),y.apply(this,arguments)}var N=n(73973),H=n(95173),J=n(3338),V=n(90926),h=n(19648),E=n(37593),x=n(91258),r=n(11653),l=n(31518),L=n(5726),B=n.n(L),e=n(17976),Q={labelCol:{span:6},wrapperCol:{span:18}},W=function(a){var s=a.open,u=a.values,t=a.onClose,f=r.Z.useForm(),p=j()(f,1),i=p[0];return(0,x.useEffect)(function(){i.setFieldsValue(u||{}),u&&i.setFieldsValue({rangeDate:[B()(u.beginDate),B()(u.endDate)]})},[]),(0,e.jsx)(V.Z,{width:800,destroyOnClose:!0,maskClosable:!1,open:s,title:"\u6DFB\u52A0\u5E7F\u544A",onOk:function(){i.validateFields().then(function(S){M(S).then(function(I){I.code===0?(h.ZP.success(I.msg).then(),t()):h.ZP.error(I.msg).then()})})},onCancel:t,children:(0,e.jsxs)(r.Z,o()(o()({form:i},Q),{},{children:[(0,e.jsx)(r.Z.Item,{name:"id",style:{display:"none"},children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"\u5A92\u4F53ID",name:"mediaId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"\u5F00\u5C4F\u5E7F\u544AID",name:"splashAdId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"\u6A2A\u5E45\u5E7F\u544AID",name:"bannerAdId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"\u6A21\u677F\u5E7F\u544AID",name:"templateAdId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"\u63D2\u5C4F\u5E7F\u544AID",name:"interAdId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"\u4FE1\u606F\u6D41\u5E7F\u544AID",name:"feedAdId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"\u6A21\u677F\u89C6\u9891\u4FE1\u606F\u6D41\u5E7F\u544AID",name:"videoFeedAdId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"\u5168\u5C4F\u89C6\u9891\u5E7F\u544AID",name:"fullScreenVideoAdId",children:(0,e.jsx)(l.Z,{})}),(0,e.jsx)(r.Z.Item,{label:"\u6FC0\u52B1\u89C6\u9891\u5E7F\u544AID",name:"rewardVideoAdId",children:(0,e.jsx)(l.Z,{})})]}))})},X=W,Y=function(){var d=(0,x.useRef)(),a=(0,x.useState)({}),s=j()(a,2),u=s[0],t=s[1],f=(0,x.useState)(!1),p=j()(f,2),i=p[0],A=p[1],S=function(m){V.Z.confirm({title:"\u63D0\u9192",content:"\u60A8\u6B63\u5728\u5220\u9664\u6570\u636E",onOk:function(){K({ids:m}).then(function(v){if(v.code===0){var O;h.ZP.success(v.msg).then(),(O=d.current)===null||O===void 0||O.reload()}else h.ZP.error(v.msg).then()})}})},I=[{title:"\u5A92\u4F53ID",dataIndex:"mediaId"},{title:"\u5F00\u5C4F\u5E7F\u544AID",dataIndex:"splashAdId"},{title:"\u6A2A\u5E45\u5E7F\u544AID",dataIndex:"bannerAdId"},{title:"\u6A21\u677F\u5E7F\u544AID",dataIndex:"templateAdId"},{title:"\u63D2\u5C4F\u5E7F\u544AID",dataIndex:"interAdId"},{title:"\u4FE1\u606F\u6D41\u5E7F\u544AID",dataIndex:"feedAdId"},{title:"\u6A21\u677F\u89C6\u9891\u4FE1\u606F\u6D41\u5E7F\u544AID",dataIndex:"videoFeedAdId"},{title:"\u5168\u5C4F\u89C6\u9891\u5E7F\u544AID",dataIndex:"fullScreenVideoAdId"},{title:"\u6FC0\u52B1\u89C6\u9891\u5E7F\u544AID",dataIndex:"rewardVideoAdId"},{title:"\u6DFB\u52A0\u65F6\u95F4",dataIndex:"createdDate",hideInSearch:!0,width:150,valueType:"dateTime"},{title:"\u64CD\u4F5C",dataIndex:"opt",width:120,valueType:"option",render:function(m,T){return[(0,e.jsx)(E.ZP,{size:"small",type:"primary",onClick:function(){A(!0),t(T)},children:"\u4FEE\u6539"},"edit"),(0,e.jsx)(E.ZP,{size:"small",type:"primary",danger:!0,onClick:function(){return S(T.id)},children:"\u5220\u9664"},"remove")]}}];return(0,e.jsxs)(H._z,{title:!1,children:[(0,e.jsx)(J.Z,{actionRef:d,options:!1,rowKey:"id",bordered:!0,search:!1,size:"small",tableAlertRender:!1,toolBarRender:function(){return[(0,e.jsxs)(E.ZP,{type:"primary",onClick:function(){return A(!0)},children:[(0,e.jsx)(N.Z,{})," \u65B0\u589E"]},"add")]},request:G,columns:I}),i?(0,e.jsx)(X,{values:u,open:i,onClose:function(){var m;A(!1),(m=d.current)===null||m===void 0||m.reload(),t({})}}):null]})}}}]);
