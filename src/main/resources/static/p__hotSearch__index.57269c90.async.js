"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{82244:function(ee,B,e){e.r(B),e.d(B,{default:function(){return b}});var $=e(48305),p=e.n($),U=e(90228),d=e.n(U),G=e(26068),u=e.n(G),M=e(87999),x=e.n(M),Z=e(36982),P=e(47892);function N(r,a){return F.apply(this,arguments)}function F(){return F=x()(d()().mark(function r(a,s){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,Z.request)(P.g.apiUrl+"hotSearch/list",u()({method:"POST",data:u()(u()({},a),{},{pageNumber:a.current||1})},s||{})).then(function(c){return{success:!0,data:c.data.content,total:c.data.total}}));case 1:case"end":return n.stop()}},r)})),F.apply(this,arguments)}function H(r,a){return R.apply(this,arguments)}function R(){return R=x()(d()().mark(function r(a,s){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,Z.request)(P.g.apiUrl+(a.id?"hotSearch/update":"hotSearch/save"),u()({method:"POST",data:a},s||{})));case 1:case"end":return n.stop()}},r)})),R.apply(this,arguments)}function J(r,a){return T.apply(this,arguments)}function T(){return T=x()(d()().mark(function r(a,s){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,Z.request)(P.g.apiUrl+"hotSearch/delete",u()({method:"POST",data:a},s||{})));case 1:case"end":return n.stop()}},r)})),T.apply(this,arguments)}var L=e(73973),Q=e(95173),W=e(3338),V=e(90926),g=e(19648),y=e(37593),h=e(91258),v=e(11653),I=e(31518),X=e(5726),z=e.n(X),t=e(17976),Y={labelCol:{span:4},wrapperCol:{span:20}},k=function(a){var s=a.open,o=a.values,n=a.onClose,c=v.Z.useForm(),C=p()(c,1),i=C[0];return(0,h.useEffect)(function(){i.setFieldsValue(o||{}),o&&i.setFieldsValue({rangeDate:[z()(o.beginDate),z()(o.endDate)]})},[]),(0,t.jsx)(V.Z,{destroyOnClose:!0,maskClosable:!1,open:s,title:"\u6DFB\u52A0\u70ED\u95E8\u641C\u7D22",onOk:function(){i.validateFields().then(function(O){H(O).then(function(m){m.code===0?(g.ZP.success(m.msg).then(),n()):g.ZP.error(m.msg).then()})})},onCancel:n,children:(0,t.jsxs)(v.Z,u()(u()({form:i},Y),{},{children:[(0,t.jsx)(v.Z.Item,{name:"id",style:{display:"none"},children:(0,t.jsx)(I.Z,{})}),(0,t.jsx)(v.Z.Item,{label:"\u5173\u952E\u8BCD",name:"name",rules:[{required:!0,message:"\u5FC5\u586B"}],children:(0,t.jsx)(I.Z,{})}),(0,t.jsx)(v.Z.Item,{label:"\u5E8F\u53F7",name:"order",children:(0,t.jsx)(I.Z,{})})]}))})},w=k,b=function(){var r=(0,h.useRef)(),a=(0,h.useState)({}),s=p()(a,2),o=s[0],n=s[1],c=(0,h.useState)(!1),C=p()(c,2),i=C[0],S=C[1],O=(0,h.useState)([]),m=p()(O,2),A=m[0],q=m[1],K=function(l){V.Z.confirm({title:"\u63D0\u9192",content:"\u60A8\u6B63\u5728\u5220\u9664\u6570\u636E",onOk:function(){J({ids:l||A.join(",")}).then(function(f){if(f.code===0){var E;g.ZP.success(f.msg).then(),(E=r.current)===null||E===void 0||E.reload()}else g.ZP.error(f.msg).then()})}})},_=[{title:"\u5173\u952E\u8BCD",dataIndex:"name"},{title:"\u5E8F\u53F7",dataIndex:"order",hideInSearch:!0},{title:"\u6DFB\u52A0\u65F6\u95F4",dataIndex:"createdDate",hideInSearch:!0,width:150,valueType:"dateTime"},{title:"\u64CD\u4F5C",dataIndex:"opt",width:150,valueType:"option",render:function(l,D){return[(0,t.jsx)(y.ZP,{size:"small",type:"primary",onClick:function(){S(!0),n(D)},children:"\u4FEE\u6539"},"edit"),(0,t.jsx)(y.ZP,{size:"small",type:"primary",danger:!0,onClick:function(){return K(D.id)},children:"\u5220\u9664"},"remove")]}}];return(0,t.jsxs)(Q._z,{title:!1,children:[(0,t.jsx)(W.Z,{actionRef:r,options:!1,rowKey:"id",bordered:!0,search:!1,size:"small",tableAlertRender:!1,rowSelection:{selectedRowKeys:A,onChange:function(l){return q(l)}},toolBarRender:function(){return[(0,t.jsxs)(y.ZP,{type:"primary",onClick:function(){return S(!0)},children:[(0,t.jsx)(L.Z,{})," \u65B0\u589E"]},"add"),(0,t.jsx)(y.ZP,{disabled:A.length===0,type:"primary",danger:!0,onClick:function(){return K()},children:"\u5220\u9664"},"remove")]},request:N,columns:_}),i?(0,t.jsx)(w,{values:o,open:i,onClose:function(){var l;S(!1),(l=r.current)===null||l===void 0||l.reload(),n({})}}):null]})}}}]);
